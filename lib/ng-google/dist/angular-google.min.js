angular.module("google",["google.maps","google.templates"]),angular.module("google.maps.services.Geocoder",[]).factory("Geocoder",["$q","$timeout","google",function(e,o,r){function a(){var a=new r.maps.Geocoder;this.geocode=function(t){var n=e.defer();return o(function(){a.geocode(t,function(e,o){o==r.maps.GeocoderStatus.OK?n.resolve(e):n.reject(o)})}),n.promise}}return a}]),angular.module("google.maps.services.LatLng",[]).factory("LatLng",function(){return google.maps.LatLng}),angular.module("google.maps.controllers.Map",[]).controller("MapCtrl",["$scope","$element","$attrs","$transclude","$q","$timeout","$document","Map","LatLng","googleMapsConfig","Map",function(e,o,r,a,t,n,s,l,g,i,l){var c=this,m=800,p={},u=[];this.start=function(){r.center&&(p.center=e.$eval(r.center)),r.zoom&&(p.zoom=e.$eval(r.zoom)),p=angular.extend(i,p),p.center=new g(p.center[0],p.center[1]);var a=this.map=new l(o.children("#map")[0],p);google.maps.event.addListener(a,"zoom_changed",function(){if(r.onZoomChanged){var o=$parse(r.onZoomChanged);o(e,{$map:this})}e.$emit("map:zoom_changed",a)}),google.maps.event.addListener(a,"click",function(){if(r.onClick){var o=$parse(r.onClick);o(e,{$map:this})}e.$emit("map:click",a)})},this.getMap=function(){var e=t.defer();return n(function(){e.resolve(c.map)},m),e.promise},this.addMarker=function(e){u.push(e)},this.getMarkers=function(){var e=t.defer();return n(function(){e.resolve(u)},m),e.promise}}]),angular.module("google.maps.services.Map",[]).factory("Map",function(){return google.maps.Map}),angular.module("google.maps.controllers.Marker",[]).controller("MarkerCtrl",["$scope","$element","$attrs","google","Marker","LatLng",function(e,o,r,a,t,n){var s,l=this,g={};this.start=function(o){r.position&&(g.position=e.$eval(r.position)),r.title&&(g.title=e.$eval(r.title)),g.position=new n(g.position[0],g.position[1]),s=l.marker=new t(g),o.getMap().then(function(e){s.setMap(e)}),o.addMarker(s),a.maps.event.addListener(s,"mouseover",function(){if(r.onMouseover){var o=$parse(r.onMouseover);o(e,{$marker:this})}e.$emit("marker:mouseover",s)}),a.maps.event.addListener(s,"click",function(){if(r.onClick){var o=$parse(r.onClick);o(e,{$marker:this})}e.$emit("marker:click",s)}),a.maps.event.addListener(s,"dragend",function(){if(r.onDragEnd){var o=$parse(r.onDragEnd);o(e,{$marker:this})}e.$emit("marker:dragend",s)})}}]),angular.module("google.maps.services.Marker",[]).factory("Marker",function(){return google.maps.Marker}),angular.module("google.maps.controllers",["google.maps.controllers.Marker","google.maps.controllers.Map"]),angular.module("google.maps.directives",["google.maps.directives.googleMaps","google.maps.directives.marker"]),angular.module("google.maps.services.google",[]).factory("google",["$window",function(e){return e.google}]),angular.module("google.maps.directives.googleMaps",[]).directive("googleMaps",function(){return{restrict:"E",transclude:!0,templateUrl:"maps/google-maps.directive.tpl.html",controller:"MapCtrl",require:"?googleMaps",link:function(e,o,r,a){a.start()}}}),angular.module("google.maps.directives.marker",[]).directive("marker",function(){return{restrict:"E",controller:"MarkerCtrl",require:["?^googleMaps","marker"],link:function(e,o,r,a){var t=a[0],n=a[1];n.start(t)}}}),angular.module("google.maps",["google.maps.controllers","google.maps.services","google.maps.directives"]).value("googleMapsConfig",{center:[-34.397,150.644],zoom:5}),angular.module("google.maps.services",["google.maps.services.Geocoder","google.maps.services.google","google.maps.services.Map","google.maps.services.LatLng","google.maps.services.Marker"]);